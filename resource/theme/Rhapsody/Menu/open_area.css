/* =======================================================================================
   Rhapsody Â· MegaMenu â€” Global Design Conceptï¼ˆæ€»è®¾è®¡ç†å¿µ Â· é€‚é… Typora é™åˆ¶ï¼‰

   Vision / è§†è§‰åŸºè°ƒ
   - åƒç´ çº¸æ„Ÿ Pixel-Canvasï¼šä»¥â€œç«–å‘ä¸»æ¸å˜ + æ¨ªå‘åƒç´ æ¡ + çºµå‘è½»å™ªç‚¹â€æ„æˆåƒç´ ç¼å¸¦åº•ï¼ˆRibbonï¼‰ã€‚
   - æ–‡å­—æ¸…æ™° Readabilityï¼šæ ‡é¢˜/æŒ‰é’®è½»æè¾¹ï¼ˆsub-pixel text-shadowï¼‰ä¿è¯åœ¨é«˜é¥±å’Œåº•çº¹ä¸Šçš„å¯è¯»æ€§ã€‚
   - ç»Ÿä¸€è¯­æ±‡ Consistencyï¼šå¡ç‰‡ã€æŒ‰é’®ã€è¡¨æ ¼ã€ä¸‹æ‹‰ã€æ»šåŠ¨æ¡ç­‰ç»Ÿä¸€ä½¿ç”¨â€œåƒç´ æè¾¹ + å½©è†œ + é˜¶æ¢¯åŠ¨æ•ˆâ€ã€‚

   Typora Constraints / ç¼–è¾‘å™¨é™åˆ¶
   - ä¸æ”¹ HTML ç»“æ„ï¼ˆno DOM hacksï¼‰ï¼›æ‰€æœ‰è§†è§‰ç”± CSS å˜é‡é©±åŠ¨ï¼›ä»…åœ¨å¿…è¦å¤„ä½¿ç”¨ :has() åšâ€œé—¨é—©è”åŠ¨â€ã€‚
   - å­—ä½“æ ˆç²¾ç¡®åˆ†åŒºï¼šæ­£æ–‡/æ§ä»¶ä½¿ç”¨åƒç´ ä¸­æ–‡ï¼ˆSourceHanSansPixelï¼‰ï¼Œè‹±æ–‡/æ•°å­—æ®µè½ç”¨ Press Start 2Pï¼›
     ä»£ç ä¸å›¾æ ‡æ˜¾å¼æ’é™¤ï¼ˆé¿å…ç­‰å®½/å›¾æ ‡å­—ä½“è¢«è¦†ç›–ï¼‰ã€‚FontAwesome å¿…é¡»æ˜¾å¼å£°æ˜ã€‚
   - å¯¼å‡ºä¸å…¼å®¹å‹å¥½ï¼šåŠ¨ç”»ç»Ÿä¸€å°Šé‡ prefers-reduced-motionï¼Œå¹¶å¯ä¸€é”®æ€»é˜€å…³é—­ï¼ˆåŒºåŸŸçº§ --*-animï¼‰ã€‚

   Performance / æ€§èƒ½ç­–ç•¥
   - å°‘æ»¤é•œã€å°‘æ··åˆï¼šä¸»æ‰“æ¸å˜/é‡å èƒŒæ™¯ä¸ box-shadowï¼Œé¿å…å¤§é¢ç§¯ blur/brightnessï¼›å…³é”®å¸§ä½¿ç”¨ steps()ã€‚
   - ç²¾å‡†ä½œç”¨åŸŸï¼šé€šè¿‡â€œçŠ¶æ€é›¨ä¼ + å±€éƒ¨å˜é‡â€ï¼ˆä¾‹å¦‚æŒ‚åœ¨ #megamenu-section-open / body.megamenu-openedï¼‰ï¼Œ
     é™åŸŸé‡ç»˜ï¼Œé™ä½å…¨å±€æ ·å¼æŠ–åŠ¨ä¸å†…å­˜å ç”¨ã€‚
   - :has() åŒè½¨å®ˆæŠ¤ï¼šæ”¯æŒåˆ™ç²¾å‡†è”åŠ¨ï¼›ä¸æ”¯æŒåˆ™æä¾›â€œç²—ç²’åº¦å›é€€â€ï¼Œä»…åœ¨èœå•æ‰“å¼€æ—¶ä¸Šè‰²ã€‚

   Maintainability / ç»´æŠ¤ç­–ç•¥
   - å˜é‡æ²»ç†ï¼šåŒºåŸŸå†…é›†ä¸­å£°æ˜å˜é‡ï¼ˆ--b-* / --c-* / --d-*ï¼‰ï¼Œä¸€å¤„æ¢è‰²å…¨åŸŸè”åŠ¨ï¼›å‘½åå‰ç¼€é¿å…ä¸²æ‰°ã€‚
   - æ¨¡å—æ³¨é‡Šï¼šæ¯ä¸ª REGION å¸¦ Scope / Function / Adjustable / Notesï¼Œä¾¿äºå¿«é€Ÿæ£€ç´¢ä¸è°ƒå‚ã€‚
   - å¯é€‰è¡¥ä¸ï¼šè‹±æ–‡åƒç´ æ®µè½çš„å­—å·/è¡Œé«˜å¾®è°ƒä½œä¸ºâ€œå¯é€‰è¡¥ä¸â€ï¼Œé»˜è®¤å…³é—­ï¼Œéœ€è¦æ—¶å†å¯ç”¨ã€‚

   Accessibility / æ— éšœç¢
   - é«˜å¯¹æ¯”å¯è¯»æ–‡æœ¬ï¼›ç„¦ç‚¹ä¸ hover æœ‰æ¸…æ™°æè¾¹/å†…å‘å…‰ï¼›è¡¨æ ¼è¡Œ hover æœ‰åƒç´ å†…æè¾¹å¼ºåŒ–å®šä½ã€‚

   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Region Index / åŒºåŸŸæ¸…å•ï¼ˆä½œç”¨èŒƒå›´ä¸èŒè´£ï¼‰
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ åŒºåŸŸ   â”‚ Scopeï¼ˆä½œç”¨èŒƒå›´ï¼‰                                            â”‚ Functionï¼ˆä¸»è¦èŒè´£ï¼‰                         â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ A      â”‚ body.megamenu-opened:has(#m-open.active) å†…çš„                 â”‚ å­—ä½“åŸºçº¿ï¼šä¸­æ–‡åƒç´ åŸºçº¿ï¼›è‹±æ–‡/æ•°å­—åˆ‡è‡³ Press  â”‚
   â”‚        â”‚ #megamenu-section-open, #megamenu-menu-sidebar               â”‚ Start 2Pï¼›å¸¸è§ UI ç»§æ‰¿ï¼›ä»£ç /å›¾æ ‡æ’é™¤ï¼›æè¾¹  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ B      â”‚ #megamenu-section-openï¼ˆå³ä¾§ Open é¢æ¿ï¼‰                      â”‚ å®¹å™¨ä¸‰å±‚åƒç´ åº•ï¼›å¡ç‰‡å½©è†œ+åƒç´ ç –ç¼ï¼›æ ‡é¢˜åŠ¨å½©æ¡ â”‚
   â”‚        â”‚                                                              â”‚ ä¸é•¿æŒ‰é’®åƒç´ æ¡çº¹ï¼ˆç»Ÿä¸€åŠ¨ç”»é˜€ --b-animï¼‰      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ C      â”‚ header + #megamenu-section-openï¼ˆé—¨é—©è”åŠ¨ï¼‰                   â”‚ ä»…åœ¨ Open æ¿€æ´»æ—¶ä¸Šè‰²ï¼›header å›¾æ ‡é«˜äº®ä¸æŒ‰é’®  â”‚
   â”‚        â”‚                                                              â”‚ å†…å‘å…‰ï¼›æä¾› :has ç²¾å‡†/æ—  :has å›é€€          â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ D      â”‚ #megamenu-menu-sidebarï¼ˆå·¦ä¾§èœå•ä¾§æ ï¼ŒOpen æ¿€æ´»æ€ï¼‰           â”‚ ä¾§æ åƒç´ çº¸æ¡å¤´ï¼›åˆ—è¡¨é¡¹åƒç´ ç³–æœæ¡çº¹ï¼›æ ‡ç­¾é…è‰² â”‚
   â”‚        â”‚                                                              â”‚ åˆ†ç»„ï¼›æ»šåŠ¨æ¡ç»Ÿä¸€é£æ ¼ï¼ˆç»Ÿä¸€åŠ¨ç”»é˜€ --d-animï¼‰  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ Î©*     â”‚ å¯é€‰è¡¥ä¸ï¼ˆè‹±æ–‡/æ•°å­— Press Start 2P çš„å­—å·/è¡Œé«˜/å­—è·å¾®è°ƒï¼‰     â”‚ é»˜è®¤å…³é—­ï¼›ä»…å½“æ ‡é¢˜/æ§ä»¶æº¢å‡ºæ—¶æ‰“å¼€ï¼›ä¸¥æ ¼æ’é™¤  â”‚
   â”‚        â”‚                                                              â”‚ ä»£ç /å›¾æ ‡ã€‚è‹¥ä½ åŸä»£ç æ— â€œÎ©â€ï¼Œå¯å¿½ç•¥æœ¬è¡¥ä¸ã€‚   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *Naming Noteï¼šè‹¥ä¸å¸Œæœ›å‡ºç°â€œÎ©â€å‘½åï¼Œå¯å°†è¯¥è¡¥ä¸é‡å‘½åä¸º
     â€œREGION A.PATCH â€” PRESS START 2P SCALEâ€ æˆ–ç›´æ¥åˆ é™¤æ•´æ®µè¡¥ä¸å—ã€‚

   Quick Toggles / å¿«é€Ÿå¼€å…³
   - B é¢æ¿åŠ¨æ•ˆæ€»é˜€ï¼š#megamenu-section-open { --b-anim: 0|1; }
   - D ä¾§æ åŠ¨æ•ˆæ€»é˜€ï¼šbody.megamenu-opened { --d-anim: 0|1; }
   - Î© è‹±æ–‡ç¼©æ”¾è¡¥ä¸ï¼šé»˜è®¤æ³¨é‡Šå…³é—­ï¼Œéœ€è¦æ—¶é€æ®µè§£é™¤æ³¨é‡Šå³å¯ã€‚

   Compatibility / å…¼å®¹æ€§
   - ç°ä»£æµè§ˆå™¨ / Typoraï¼ˆElectronï¼‰ï¼›æ—  :has çš„ç¯å¢ƒå…·å¤‡å¯ç”¨å›é€€ï¼›ä¸æ”¹ DOM ç»“æ„ã€‚
   ======================================================================================= */

/* ========================================================================== */
/* REGION A â€” PIXEL FONT BASELINEï¼ˆåƒç´ å­—ä½“åŸºçº¿ Â· Open æ¿€æ´»æ€ä¸“ç”¨ï¼‰             */
/* Scope: body.megamenu-opened:has(#m-open.active) å†…éƒ¨çš„                      */
/*        #megamenu-section-open ä¸ #megamenu-menu-sidebar                     */
/* Function:                                                                 */
/*   1) æä¾›ä¸­æ–‡ä¸ºä¸»çš„åƒç´ åŸºçº¿ï¼ˆSourceHanSansPixel ä¼˜å…ˆï¼‰                      */
/*   2) è‹±æ–‡/æ•°å­—åˆ‡æ¢åˆ° Press Start 2P å¼ºåŒ–åƒç´ æ„Ÿ                             */
/*   3) å¸¸è§ UI å…ƒç´ ç»§æ‰¿åƒç´ å­—ä½“ï¼Œä½†ä»£ç /å›¾æ ‡åŒºåŸŸæ’é™¤                          */
/*   4) æ ‡é¢˜ä¸æŒ‰é’®è½»æè¾¹ï¼Œæé«˜æ¸…æ™°åº¦                                          */
/* Notes: FontAwesome å›¾æ ‡å­—ä½“éœ€æ˜¾å¼å£°æ˜ï¼Œé¿å…è¢«åƒç´ å­—ä½“è¦†ç›–                  */
/* Compatibility: ç°ä»£æµè§ˆå™¨ / Typora(Electron)                               */
/* ========================================================================== */

/* çŠ¶æ€é›¨ä¼ï¼šä»…å½“ Open æ¿€æ´»æ—¶ç”Ÿæ•ˆ */
body.megamenu-opened:has(#m-open.active) :is(#megamenu-section-open, #megamenu-menu-sidebar) {
  /* ä¸­æ–‡åƒç´ åŸºçº¿ */
  font-family: 'SourceHanSansPixel','Press Start 2P',monospace,system-ui,-apple-system,
               "Segoe UI","Microsoft YaHei",sans-serif;
  font-kerning: none;
  text-rendering: optimizeSpeed;
}

/* è‹±æ–‡/æ•°å­— â†’ Press Start 2P */
body.megamenu-opened:has(#m-open.active)
:is(#megamenu-section-open, #megamenu-menu-sidebar)
:where(:lang(en), [data-localize], [data-lg]) {
  font-family: 'Press Start 2P','SourceHanSansPixel',monospace,system-ui,-apple-system,
               "Segoe UI","Microsoft YaHei",sans-serif;
}

/* å¸¸è§ UI å…ƒç´ ç»§æ‰¿åƒç´ å­—ä½“ */
body.megamenu-opened:has(#m-open.active)
:is(#megamenu-section-open, #megamenu-menu-sidebar)
:where(input,button,select,textarea,.btn,.long-btn,th,td,h1,h2,h3,h4,h5,h6,label,span,li > a) {
  font-family: inherit;
  letter-spacing: 0;
}

/* æ’é™¤åŒºï¼šä»£ç /å›¾æ ‡ä¸å—åƒç´ å­—ä½“å½±å“ */
body.megamenu-opened:has(#m-open.active)
:is(#megamenu-section-open, #megamenu-menu-sidebar)
:where(code, pre, kbd, samp, i, .icon, [class^="ion-"], [class*=" ion-"], svg) {
  font-family: inherit;
}

/* FontAwesome å›¾æ ‡å­—ä½“å¼ºåˆ¶ä¿®æ­£ï¼ˆé¿å…è¢«è¦†ç›–ï¼‰ */
body.megamenu-opened:has(#m-open.active)
:is(#megamenu-section-open, #megamenu-menu-sidebar)
:where(.fa, .fa::before, [class*="fa-"]::before) {
  font-family: 'FontAwesome' !important;
  font-style: normal;
  font-weight: normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* æ ‡é¢˜ä¸æŒ‰é’®æè¾¹ï¼ˆåˆ†å¼€æ§åˆ¶ Open / Sidebarï¼‰ */
body.megamenu-opened:has(#m-open.active)
#megamenu-section-open :where(h1,h2,.long-btn, #recent-document-table thead th) {
  text-shadow: 0.5px 0.5px 0 #fff, -0.5px -0.5px 0 #fff;
}
body.megamenu-opened:has(#m-open.active)
#megamenu-menu-sidebar :where(.megamenu-menu-header, #megamenu-menu-list > li > a) {
  text-shadow: 0.5px 0.5px 0 #fff, -0.5px -0.5px 0 #fff;
}

/* =======================================================================================
   Rhapsody Â· REGION Î© â€” PRESS START 2P SCALE PATCHï¼ˆåƒç´ è‹±æ–‡å­—å·/è¡Œé«˜å¾®è°ƒÂ·å¯é€‰è¡¥ä¸ï¼‰
   ç›®æ ‡ | Goals
   - ä»…é’ˆå¯¹è‹±æ–‡/æ•°å­—è¯­æ®µï¼ˆ:lang(en)ã€[data-localize]ã€[data-lg]ï¼‰å¯ç”¨ Press Start 2P çš„ç¼©æ”¾ä¸è¡Œé«˜å¾®è°ƒ
   - å…³é”®æ§ä»¶å†æ”¶ä¸€æ¡£ï¼Œé¿å…æ ‡é¢˜/æŒ‰é’®æº¢å‡º
   - ä»£ç /å›¾æ ‡åŒºåŸŸæ˜ç¡®æ’é™¤ï¼Œé¿å…æ‰°åŠ¨ç­‰å®½/å›¾æ ‡å­—ä½“

   ä½¿ç”¨æ–¹å¼ | How to use
   - é»˜è®¤æ•´æ®µç¦ç”¨ï¼ˆè¢«æ³¨é‡Šï¼‰ã€‚éœ€è¦æ—¶æŒ‰éœ€è§£é™¤ç›¸åº”ç‰‡æ®µçš„æ³¨é‡Šã€‚
   - å‚æ•°æ—‹é’®ï¼š
       --px-en-scale: å»ºè®® 0.82 ~ 0.90
       --px-en-lh   : å»ºè®® 1.05 ~ 2.05ï¼ˆSidebar ç”¨ 1.05 ~ 1.2ï¼›æ­£æ–‡æ ‡é¢˜å¯æ›´å¤§ï¼‰
       --px-en-track: å»ºè®® 0 ~ 0.02em
   å…¼å®¹æ€§ | Compatibility
   - ç°ä»£æµè§ˆå™¨ / Typora(Electron)
   ======================================================================================= */

/* -------------------------------------------
   Î©-0 Â· å‚æ•°é¢„è®¾ï¼ˆæŒ‰éœ€è§£é™¤æ³¨é‡Šï¼‰
   ------------------------------------------- */
/*
#megamenu-section-open{
  --px-en-scale: .90;
  --px-en-lh: 2.05;
  --px-en-track: 0.02em;
}
#megamenu-menu-sidebar{
  --px-en-scale: 1;
  --px-en-lh: 1.05;
  --px-en-track: 0.02em;
}
*/

/* -------------------------------------------
   Î©-1 Â· è‹±æ–‡/æ•°å­—ï¼šPress Start 2P + ç¼©æ”¾ï¼ˆæŒ‰éœ€è§£é™¤æ³¨é‡Šï¼‰
   ------------------------------------------- */
/*
#megamenu-section-open :where(:lang(en), [data-localize], [data-lg]),
#megamenu-menu-sidebar :where(:lang(en), [data-localize], [data-lg]){
  font-family: 'Press Start 2P','SourceHanSansPixel',monospace;
  font-size: calc(1em * var(--px-en-scale, 1));
  line-height: var(--px-en-lh, 1.2);
  letter-spacing: var(--px-en-track, normal);
}
*/

/* -------------------------------------------
   Î©-2 Â· å…³é”®æ§ä»¶å†æ”¶ä¸€æ¡£ï¼ˆé¿å…æ–¹æ¡†æº¢å‡ºï¼ŒæŒ‰éœ€è§£é™¤æ³¨é‡Šï¼‰
   ------------------------------------------- */
/*
#megamenu-section-open :where(h1,h2,.long-btn span,#recent-file-panel-search-input,.dropdown-menu a,
  #recent-document-table thead th,#recent-document-table tbody td .recent-file-name),
#megamenu-menu-sidebar :where(.megamenu-menu-header,#megamenu-menu-list>li>a,#megamenu-menu-header-title){
  font-size: calc(1em * var(--px-en-scale, 1));
  line-height: var(--px-en-lh, 1.2);
  letter-spacing: var(--px-en-track, normal);
}
*/

/* -------------------------------------------
   Î©-3 Â· è¾“å…¥å ä½ç¬¦è·Ÿéšç¼©æ”¾ï¼ˆæŒ‰éœ€è§£é™¤æ³¨é‡Šï¼‰
   ------------------------------------------- */
/*
#megamenu-section-open input::placeholder{
  font-size: calc(1em * var(--px-en-scale, 1));
  line-height: var(--px-en-lh, 1.2);
}
*/

/* -------------------------------------------
   Î©-4 Â· æ’é™¤åŒºï¼šä»£ç /å›¾æ ‡ä¸å‚ä¸ç¼©æ”¾ï¼ˆå»ºè®®ä¿æŒå¯ç”¨ï¼ŒæŒ‰éœ€è§£é™¤æ³¨é‡Šï¼‰
   ------------------------------------------- */
/*
#megamenu-section-open :where(code,pre,kbd,samp,i,svg,[class^="ion-"],[class*=" ion-"]),
#megamenu-menu-sidebar :where(code,pre,kbd,samp,i,svg,[class^="ion-"],[class*=" ion-"]){
  font-size: inherit;
  line-height: normal;
  letter-spacing: normal;
}
*/

/* =======================================================================================
   REGION B â€” OPEN PANEL SURFACEï¼ˆOpen é¢æ¿å®¹å™¨/å¡ç‰‡/æ ‡é¢˜/æŒ‰é’® Â· å˜é‡ç»´æŠ¤ç‰ˆï¼‰
   Scope : #megamenu-section-open åŠå…¶å­å…ƒç´ 
   Function :
     - å®¹å™¨åƒç´ å½©å¸¦é“ºåº•ï¼ˆç«–å‘ä¸»æ¸å˜ + æ°´å¹³åƒç´ æ¡ + çºµå‘è½»å™ªç‚¹ï¼‰
     - å¡ç‰‡â€œå½©è†œ + æ–œå‘åƒç´ ç –ç¼â€è§†è§‰
     - æ ‡é¢˜ä¿ç•™åŠ¨æ€å½©æ¡ï¼ˆå¯ä¸€é”®è°ƒèŠ‚æ¡å®½/é€Ÿåº¦ï¼‰
     - é•¿æŒ‰é’®åƒç´ ç³–æœæ¡çº¹ + è¾¹æ¡†å½©æµï¼ˆç»Ÿä¸€åŠ¨ç”»å¼€å…³ï¼‰
   Adjustable Params :
     - èƒŒæ™¯/æ¡çº¹/å™ªç‚¹ï¼š--b-bg-v / --b-strip-h / --b-noise-v
     - æè¾¹ä¸é˜´å½±ï¼š--b-bd / --b-shadow / --b-inset-white
     - æ ‡é¢˜æ¡å®½ä¸åŠ¨ç”»é€Ÿåº¦ï¼š--b-title-strip-size / --b-title-scan-dur
     - é•¿æŒ‰é’®æ¡çº¹æ­¥è¿›ä¸è¾¹æ¡†å½©æµé€Ÿåº¦ï¼š--b-stripe-step / --b-border-dur / --b-stripe-dur
     - åŠ¨ç”»æ€»å¼€å…³ï¼š--b-animï¼ˆ1 å¼€/0 å…³ï¼Œä¸”å°Šé‡ç³»ç»Ÿâ€œå‡å°‘åŠ¨æ€â€ï¼‰
   Compatibility : ç°ä»£æµè§ˆå™¨ / Typora(Electron)ï¼›ä¸ä½¿ç”¨ :has()ï¼›ä¸æ”¹ DOM
   ======================================================================================= */

/* ---------------------------------------------------------------------------
   B0 Â· Region-Local Varsï¼ˆä»…å¯¹ #megamenu-section-open åŠå­å­™å…ƒç´ ç”Ÿæ•ˆï¼‰
   --------------------------------------------------------------------------- */
#megamenu-section-open{
  /* å®¹å™¨å†…è¾¹è·ä¸å…¬ç”¨æè¾¹/é˜´å½± */
  --b-pad: 20px 18px;
  --b-bd: 2px solid #111;
  --b-shadow: 3px 3px 0 0 #7b8ca3;
  --b-inset-white: inset 0 0 0 2px #fff;

  /* ä¸‰å±‚åŸºç¡€åº•çº¹ï¼šç«–å‘ä¸»æ¸å˜ / æ°´å¹³åƒç´ æ¡ / çºµå‘è½»å™ªç‚¹ */
  --b-bg-v: linear-gradient(180deg,#ffd2e1 0%, #ffe07a 35%, #8affc1 68%, #8ac2ff 100%);
  --b-strip-h: repeating-linear-gradient(90deg,
                    #ff4d6d 0 18px,#ff9f1c 18px 36px,#fbff12 36px 54px,
                    #0aff99 54px 72px,#3a86ff 72px 90px,#8338ec 90px 108px);
  --b-noise-v: repeating-linear-gradient(0deg,#ffffff66 0 2px,transparent 2px 4px);

  /* å¡ç‰‡å½©è†œä¸æ–œå‘åƒç´ ç –ç¼ */
  --b-card-grad: linear-gradient(180deg,#ffd6e6 0%, #ffe7a3 40%, #b9ffdf 75%, #bde0ff 100%);
  --b-card-brick: repeating-linear-gradient(135deg,
                       #ff6b81 0 8px,#ff6b81 8px 16px,
                       #ffcf6b 16px 24px,#ffcf6b 24px 32px,
                       #9bffb3 32px 40px,#9bffb3 40px 48px,
                       #7be6ff 48px 56px,#7be6ff 56px 64px,
                       #b39aff 64px 72px,#b39aff 72px 80px);

  /* æ ‡é¢˜æ¸å˜ + åŠ¨æ€å½©æ¡ï¼ˆæ¡å®½ & åŠ¨ç”»æ—¶é•¿å¯è°ƒï¼‰ */
  --b-title-grad: linear-gradient(180deg,#ffe0ea 0%, #fff0c9 100%);
  --b-title-strip: repeating-linear-gradient(90deg,
                        #ff4d6d 0 10px,#ff9f1c 10px 20px,#fbff12 20px 30px,
                        #0aff99 30px 40px,#3a86ff 40px 50px,#8338ec 50px 60px,#ff4d6d 60px 70px);
  --b-title-strip-size: 140px;
  --b-title-scan-dur: .9s;

  /* é•¿æŒ‰é’®é…æ–¹ä¸åŠ¨ç”»æ­¥è¿› */
  --b-btn-grad: linear-gradient(180deg,#ffe3ed 0%, #fff09f 48%, #c7ffe8 100%);
  --b-btn-strip: repeating-linear-gradient(90deg,
                       #b3e0ff 0 12px,#8fd2ff 12px 24px,#b9ffd9 24px 36px,
                       #ffe59a 36px 48px,#ffb3c7 48px 60px,#d5b3ff 60px 72px);
  --b-stripe-step: 72px;      /* æ¡çº¹æ°´å¹³ä½ç§»æ­¥è¿›ï¼ˆåƒç´ ç³–æœæ„Ÿï¼‰ */
  --b-border-dur: 1.2s;       /* è¾¹æ¡†å½©æµå‘¨æœŸ */
  --b-stripe-dur: .6s;        /* æ¡çº¹æµåŠ¨å‘¨æœŸ */

  /* åŠ¨ç”»æ€»å¼€å…³ï¼ˆ0 å…³ / 1 å¼€ï¼‰ */
  --b-anim: 1;
}

/* ç³»ç»Ÿå‡å°‘åŠ¨æ€æ—¶è‡ªåŠ¨å…³é—­ï¼ˆä»å¯å¼ºåˆ¶è¦†ç›– --b-animï¼‰ */
@media (prefers-reduced-motion: reduce){
  #megamenu-section-open{ --b-anim: 0; }
}

/* ---------------------------------------------------------------------------
   B1 Â· å®¹å™¨ï¼šåƒç´ å½©å¸¦é“ºåº•ï¼ˆä¸‰å±‚åº•çº¹å˜é‡ï¼‰
   --------------------------------------------------------------------------- */
#megamenu-section-open{
  position: relative;
  padding: var(--b-pad);
  background: var(--b-bg-v), var(--b-strip-h), var(--b-noise-v);
  image-rendering: pixelated;
  box-shadow: inset 0 0 0 2px #111;
}

/* ---------------------------------------------------------------------------
   B2 Â· å…¬å…±åƒç´ å¡ç‰‡ï¼šå½©è†œ + æ–œå‘åƒç´ å—
   --------------------------------------------------------------------------- */
#megamenu-section-open .megamenu-menu-panel{
  border: var(--b-bd);
  border-radius: 0;
  margin: 0 0 16px;
  padding: 14px 14px 16px;
  background: var(--b-card-grad), var(--b-card-brick);
  box-shadow: var(--b-inset-white), 0 0 0 2px #111, 4px 4px 0 0 #7b8ca3;
  transition: transform .06s steps(2,end), box-shadow .06s steps(2,end);
}
#megamenu-section-open .megamenu-menu-panel:hover{
  transform: translate(-1px,-1px);
  box-shadow: var(--b-inset-white), 0 0 0 2px #111,
              6px 6px 0 0 #65768e, 0 0 0 4px #fff inset;
}

/* ---------------------------------------------------------------------------
   B3 Â· æ ‡é¢˜ï¼šä¿ç•™åŠ¨æ€å½©æ¡ï¼ˆæ¡å®½/é€Ÿåº¦å¯è°ƒï¼‰
   --------------------------------------------------------------------------- */
#megamenu-section-open h1,
#megamenu-section-open h2{
  display:inline-block;
  margin:0 0 10px;
  padding: 3px 10px;
  color:#111;
  border: var(--b-bd);
  border-radius:0;
  box-shadow: 2px 2px 0 0 #7b8ca3;
  background: var(--b-title-grad), var(--b-title-strip);
  background-size: auto, var(--b-title-strip-size) 100%;
  animation: b-title-scan var(--b-title-scan-dur) steps(7,end) infinite;
}
@keyframes b-title-scan{
  from{ background-position: 0 0, 0 0; }
  to  { background-position: 0 0, var(--b-title-strip-size) 0; }
}

/* ---------------------------------------------------------------------------
   B4 Â· é•¿æŒ‰é’®ï¼šåƒç´ ç³–æœæ¡çº¹ + å½©æµè¾¹æ¡†ï¼ˆç»Ÿä¸€åŠ¨ç”»å¼€å…³ï¼‰
   --------------------------------------------------------------------------- */
#megamenu-section-open .long-btn{
  display:flex; align-items:center; gap:10px;
  padding:12px 14px;
  color:#111;
  border: var(--b-bd); border-radius:0;
  background: var(--b-btn-grad), var(--b-btn-strip);
  box-shadow: var(--b-shadow), inset 0 0 0 2px #fff;
  transition: transform .06s steps(2,end);
}
#megamenu-section-open .long-btn i{ color:#ff2a2a; }
#megamenu-section-open .long-btn:hover{
  transform: translate(-1px,-1px);
  /* å½“ --b-anim=0 æ—¶ï¼Œè¿™ä¸¤æ®µåŠ¨ç”»è‡ªç„¶è¢«ç¦ç”¨ï¼ˆcalc(0*1)ï¼‰ */
  animation:
    calc(var(--b-anim) * 1) b-rainbow-border var(--b-border-dur) steps(5,end) infinite,
    calc(var(--b-anim) * 1) b-stripe-x var(--b-stripe-dur) steps(6,end) infinite;
}
#megamenu-section-open .long-btn:active{
  transform: translate(0,0);
  box-shadow: 2px 2px 0 0 #6a7b92, inset 0 0 0 2px #fff;
}

/* è¾¹æ¡†å½©æµä¸æ¡çº¹æµåŠ¨ï¼ˆå±€éƒ¨å‘½åï¼Œé¿å…ä¸å…¶ä»–åŒºåŸŸå†²çªï¼‰ */
@keyframes b-rainbow-border{
  0%  { box-shadow: var(--b-shadow), 0 0 0 2px #ff4d6d inset; }
  25% { box-shadow: var(--b-shadow), 0 0 0 2px #0aff99 inset; }
  50% { box-shadow: var(--b-shadow), 0 0 0 2px #3a86ff inset; }
  75% { box-shadow: var(--b-shadow), 0 0 0 2px #8338ec inset; }
  100%{ box-shadow: var(--b-shadow), 0 0 0 2px #fbff12 inset; }
}
@keyframes b-stripe-x{
  from{ background-position: 0 0, 0 0; }
  to  { background-position: 0 0, var(--b-stripe-step) 0; }
}

/* ---------------------------------------------------------------------------
   B5 Â· æœç´¢/æ›´å¤šæŒ‰é’®ã€ä¸‹æ‹‰èœå•ã€è¡¨æ ¼ç­‰ï¼ˆé…æ–¹å˜é‡æ¥ç®¡ï¼‰
   --------------------------------------------------------------------------- */

/* æœç´¢åŒºå£³å±‚ä¸è¾“å…¥æ¡†ï¼ˆä¿æŒåŸè§†è§‰ï¼ŒæŠ½å˜é‡å¯æŒ‰éœ€ç»§ç»­ç»†åŒ–ï¼‰ */
#megamenu-section-open #recent-file-panel{
  background: linear-gradient(180deg,#ffdbe8 0%, #ffefb0 100%);
  padding:6px 0 0;
}
#megamenu-section-open #recent-file-panel-search-input.search.quiet-focus{
  width:100%; height:36px; padding:6px 10px; border-radius:0; outline:none;
  color:#111; background:#fff;
  border: var(--b-bd);
  box-shadow: var(--b-inset-white), 2px 2px 0 0 #7b8ca3;
  caret-color:#ff2a2a;
}
#megamenu-section-open #recent-file-panel-search-input.search.quiet-focus:focus{
  border-color:#8338ec;
  box-shadow: var(--b-inset-white), 3px 3px 0 0 #7b8ca3;
  background:
    linear-gradient(180deg,#ffdff3 0%, #fff3c7 65%, #d9fff3 100%),
    repeating-linear-gradient(90deg,#ffd0e7 0 8px,#cfe6ff 8px 16px,#ccffe6 16px 24px,#fff0bf 24px 32px);
}

/* å³ä¾§â€œæ›´å¤šâ€æŒ‰é’® */
#megamenu-section-open #recent-file-panel-action-btn.btn{
  height:36px; min-width:36px; margin-left:8px; border-radius:0;
  background:
    linear-gradient(180deg,#ffdcec 0%, #ffe9a6 50%, #c8fff0 100%),
    repeating-linear-gradient(90deg,#ffc0d6 0 8px,#ffd89a 8px 16px,#fff28a 16px 24px,#a8ffc0 24px 32px,#a8d6ff 32px 40px);
  color:#111; border: var(--b-bd);
  box-shadow: 2px 2px 0 0 #7b8ca3;
  transition: transform .06s steps(2,end);
}
#megamenu-section-open #recent-file-panel-action-btn.btn:hover{
  transform: translate(-1px,-1px);
  box-shadow: 4px 4px 0 0 #6a7b92;
}

/* ä¸‹æ‹‰èœå•ï¼šé¥±å’Œåƒç´ çº¸å¼  */
#megamenu-section-open .dropdown-menu{
  border: var(--b-bd); border-radius:0; padding:6px 0;
  background:
    linear-gradient(180deg,#ffdceb 0%, #ffeaa8 60%, #c9fff0 100%),
    repeating-linear-gradient(90deg,#ffd1e5 0 12px,#ffe7b3 12px 24px,#dbffd1 24px 36px,#cdeeff 36px 48px,#d9caff 48px 60px);
  box-shadow: 4px 4px 0 0 #7b8ca3;
}
#megamenu-section-open .dropdown-menu a{ color:#111; }

/* è¡¨æ ¼å¤–å£³ä¸è¡¨å¤´/è¡¨ä½“ï¼ˆè§†è§‰ç­‰æ•ˆï¼‰ */
#megamenu-section-open #recent-document-table{
  width:100%;
  border-collapse:separate; border-spacing:0; border-radius:0;
  border: var(--b-bd);
  background: linear-gradient(180deg,#ffe0ed 0%, #ffefb6 55%, #cafff1 100%);
  box-shadow: 3px 3px 0 0 #7b8ca3;
}
#megamenu-section-open #recent-document-table thead{
  background:
    linear-gradient(180deg,#ffe2ee 0%, #fff0c6 100%),
    repeating-linear-gradient(90deg,#ff5a7a 0 16px,#ffa627 16px 32px,#ffe84a 32px 48px,#3fe796 48px 64px,#4da0ff 64px 80px,#9a77ff 80px 96px);
}
#megamenu-section-open #recent-document-table thead th{
  padding:10px 10px; color:#111; font-weight:800;
  border-bottom: var(--b-bd);
}

/* è¡¨ä½“ï¼šåº•å±‚å†·æ·¡è“æ¡çº¹ + æ¯è¡Œå½©çº¸çº¹ */
#megamenu-section-open #recent-document-table tbody{
  background:
    linear-gradient(180deg,#eef7ff 0%, #e7f3ff 100%),
    repeating-linear-gradient(0deg,#eef6ff 0 10px,#deedff 10px 20px);
}
#megamenu-section-open #recent-document-table tbody tr{
  background:
    linear-gradient(180deg,#ffe4ef 0%, #fff0c4 55%, #cafff2 100%),
    repeating-linear-gradient(90deg,#ffd7e0 0 12px,#ffe8c9 12px 24px,#d7ffd7 24px 36px,#d0eeff 36px 48px,#d9cfff 48px 60px);
  transition: box-shadow .06s steps(2,end), transform .06s steps(2,end);
}
#megamenu-section-open #recent-document-table.table-striped tbody tr:nth-child(odd){
  background:
    linear-gradient(180deg,#ffd9e9 0%, #ffe8b3 55%, #b9ffe9 100%),
    repeating-linear-gradient(90deg,#ffc9d9 0 12px,#ffe0b0 12px 24px,#c8ffd6 24px 36px,#c2e4ff 36px 48px,#cfbfff 48px 60px);
}
#megamenu-section-open #recent-document-table.table-hover tbody tr:hover{
  box-shadow: inset 0 0 0 2px #ff4d6d;
  transform: translate(-1px,-1px);
}
#megamenu-section-open #recent-document-table td,
#megamenu-section-open #recent-document-table th{
  border-bottom: 2px solid #f0f2f5;
}
#megamenu-section-open #recent-document-table tbody td{
  padding:8px 10px; color:#111; vertical-align:top;
}

/* æ–‡ä»¶åä¸è·¯å¾„ï¼šå†°è“æ ‡ç­¾ */
#megamenu-section-open #recent-document-table .recent-file-name{
  font-weight:800; color:#0b6bff;
  background: linear-gradient(0deg,#cfe4ff,#ffffff);
  border: var(--b-bd);
  padding:2px 6px; display:inline-block;
  box-shadow: 2px 2px 0 0 #7b8ca3;
}
#megamenu-section-open #recent-document-table .recent-file-dir{
  text-align:right; color:#4b5563;
}

/* è¡¨å†…é“¾æ¥ï¼šåƒç´ ä¸‹åˆ’çº¿ + å½©è‰² hover */
#megamenu-section-open #recent-document-table td a{
  color:#111; text-decoration:none; border-bottom: 2px solid #111; padding-bottom:1px;
}
#megamenu-section-open #recent-document-table td a:hover{
  color:#ff2a2a; border-bottom-color:#ff2a2a;
}

/* æç¤ºæ–‡å­—ï¼ˆImport æŒ‰é’® hintï¼‰ï¼šåŒå±‚å½©è†œ */
#megamenu-section-open .preference-item-hint{
  display:inline-block; margin-left:8px; padding:1px 6px; border: var(--b-bd);
  background:
    linear-gradient(180deg,#ffe5f3 0%, #ffffff 100%),
    repeating-linear-gradient(90deg,#c8fff6 0 10px,#e0d4ff 10px 20px);
  color:#333;
  box-shadow: 2px 2px 0 0 #7b8ca3;
}

/* æ— éšœç¢ï¼šåŒºåŸŸå†…ä¸€é”®é™æ­¢ï¼ˆå…œåº•ï¼‰ */
@media (prefers-reduced-motion: reduce){
  #megamenu-section-open *{ animation:none!important; transition:none!important; }
}

/* =======================================================================================
   REGION C â€” OPEN GATE LATCHï¼ˆé—¨é—©è”åŠ¨ï¼šä»…åœ¨ Open æ¿€æ´»æ—¶ä¸Šè‰² Â· å˜é‡ç»´æŠ¤ï¼‰
   Scope : body.megamenu-opened + #m-open.activeï¼ˆheader / #megamenu-section-open / å®¹å™¨å…œåº•ï¼‰
   Function :
     - ä»…å½“â€œèœå•æ‰“å¼€ + Open é¡¹æ¿€æ´»â€æ—¶ï¼Œä¸º header ä¸ Open é¢æ¿åŒºåŸŸä¸Šåƒç´ å½©å¸¦åº•
     - ç»Ÿä¸€å›¾æ ‡é«˜äº® & æŒ‰é’®æè¾¹å†…å‘å…‰
   Adjustable :
     - ä¸‰å±‚åº•çº¹ï¼š--c-grad-h / --c-strip-h / --c-noise-v
     - æè¾¹ä¸é˜´å½±ï¼š--c-bd / --c-shadow
   Compatibility : ç°ä»£æµè§ˆå™¨ï¼ˆ`:has`ï¼‰/ Typora(Electron)
   Notes :
     - ç”¨ @supports selector(:has(*)) åšå®ˆæŠ¤ï¼›æä¾›â€œç²—ç²’åº¦â€æ—  :has å›é€€ï¼ˆä»…æŒ‰ megamenu-openedï¼‰
   ======================================================================================= */

/* C0 Â· åŒºåŸŸå˜é‡ï¼ˆæŒ‚åˆ° megamenu-opened ä¸‹ï¼Œé¿å…æ±¡æŸ“å…¨å±€ï¼‰ */
body.megamenu-opened{
  /* ä¸‰å±‚å½©å¸¦åº•ï¼šä¸ B åŒºåŸŸè‰²é˜¶ä¸€è‡´ï¼ˆæ¨ªå‘ç‰ˆæœ¬ï¼‰ */
  --c-grad-h:  linear-gradient(90deg,#ffd2e1,#ffe07a,#8affc1,#8ac2ff);
  --c-strip-h: repeating-linear-gradient(90deg,
                   #ff4d6d 0 18px,#ff9f1c 18px 36px,#fbff12 36px 54px,
                   #0aff99 54px 72px,#3a86ff 72px 90px,#8338ec 90px 108px);
  --c-noise-v: repeating-linear-gradient(0deg,#ffffff66 0 2px,transparent 2px 4px);

  --c-bd: 2px solid #111;
  --c-shadow: 0 2px 0 0 #7b8ca3;
}

/* ============================  æ”¯æŒ :has çš„å†…æ ¸ï¼ˆç²¾å‡†é—¨é—©ï¼‰  ============================ */
@supports selector(:has(*)){

  /* C1 Â· å…±åŒé—¨é—©ï¼šheader ä»…åœ¨ Open æ¿€æ´»æ—¶ä¸Šåƒç´ å½©å¸¦åº• */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) header{
    background: var(--c-grad-h), var(--c-strip-h), var(--c-noise-v);
    image-rendering: pixelated;
    border-bottom: var(--c-bd);
    box-shadow: var(--c-shadow);
  }

  /* C2 Â· å³ä¾§ Open é¢æ¿ä¸å…¶æœ€è¿‘å®¹å™¨å…œåº•ï¼Œé˜²æ­¢å³ä¾§éœ²ç™½ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-section-open,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) *:has(> #megamenu-section-open){
    background: var(--c-grad-h), var(--c-strip-h), var(--c-noise-v);
    image-rendering: pixelated;
    box-shadow: inset 0 0 0 2px #111;
  }

  /* C3 Â· Header å›¾æ ‡ç»Ÿä¸€é«˜äº®ï¼ˆé‡‘é»„ï¼‰ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) header :is(
    .btn, .toolbar-icon, .icon, [class*="icon"], [class^="ion-"], i, svg, svg use
  ){
    color:#ffd93b; fill:#ffd93b; stroke:#ffd93b;
    opacity:1; filter:none;
  }

  /* C4 Â· Header æŒ‰é’®æè¾¹ä¸å†…å‘å…‰ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) header .btn{
    border-color:#111;
    box-shadow:0 0 0 2px #ffd93b33 inset;
    opacity:1;
  }
}

/* =======================================================================================
   REGION D â€” MENU SIDEBAR OPEN THEMEï¼ˆä¾§æ Â·Open æ¿€æ´»æ€åƒç´ ä¸»é¢˜ Â· å˜é‡ç»´æŠ¤ï¼‰
   Scope      : ä»…å½“ body.megamenu-opened ä¸” #megamenu-menu-list å†… #m-open.active
   Principle  : ä¸æ”¹ HTML ç»“æ„ï¼›èƒ½åˆå¹¶çš„å°½é‡åˆå¹¶ï¼›å˜é‡å°±åœ°å®šä¹‰ï¼Œä¾¿äºç»´æŠ¤
   Notes      : ä¸ºä¿ç²¾å‡†è”åŠ¨ï¼Œä½¿ç”¨ :has()ï¼›å¹¶æä¾›æ—  :has çš„ç²—ç²’åº¦å›é€€
   ======================================================================================= */

/* -------------------------------------------
   D0 Â· å±€éƒ¨å˜é‡ï¼ˆæŒ‚åœ¨ body.megamenu-openedï¼Œé¿å…æ±¡æŸ“å…¨å±€ï¼‰
   ------------------------------------------- */
body.megamenu-opened{
  /* ä¸‰å±‚åƒç´ åº•ï¼šç«–å‘ä¸»æ¸å˜ / æ°´å¹³åƒç´ æ¡ / çºµå‘è½»å™ªç‚¹ */
  --d-grad-v:  linear-gradient(180deg,#ffd2e1 0%, #ffe07a 35%, #8affc1 68%, #8ac2ff 100%);
  --d-strip-h: repeating-linear-gradient(90deg,
                    #ff4d6d 0 18px,#ff9f1c 18px 36px,#fbff12 36px 54px,
                    #0aff99 54px 72px,#3a86ff 72px 90px,#8338ec 90px 108px);
  --d-noise-v: repeating-linear-gradient(0deg,#ffffff66 0 2px,transparent 2px 4px);

  /* å¤´éƒ¨çº¸æ¡ + æ ‡é¢˜ç”¨çš„æš–å½©è†œ */
  --d-title-grad: linear-gradient(180deg,#ffe0ea 0%, #fff0c9 100%);

  /* åˆ—è¡¨é¡¹ï¼šåƒç´ ç³–æœæ¡çº¹ */
  --d-btn-grad:  linear-gradient(180deg,#ffe3ed 0%, #fff09f 48%, #c7ffe8 100%);
  --d-btn-strip: repeating-linear-gradient(90deg,
                    #b3e0ff 0 12px,#8fd2ff 12px 24px,#b9ffd9 24px 36px,
                    #ffe59a 36px 48px,#ffb3c7 48px 60px,#d5b3ff 60px 72px);

  /* é€šç”¨æè¾¹/é˜´å½±ä¸åŠ¨ç”»å‚æ•° */
  --d-bd: 2px solid #111;
  --d-shadow-soft: 0 2px 0 0 #7b8ca3;
  --d-shadow-card: 3px 3px 0 0 #7b8ca3;
  --d-inset-white: inset 0 0 0 2px #fff;
  --d-anim: 1;                 /* 1 å¼€ / 0 å…³ */
  --d-border-dur: 1.2s;        /* è¾¹æ¡†å½©æµå‘¨æœŸ */
  --d-stripe-dur: .6s;         /* æ¡çº¹æµåŠ¨å‘¨æœŸ */
}
@media (prefers-reduced-motion: reduce){
  body.megamenu-opened{ --d-anim: 0; }
}

/* D-anim keyframesï¼ˆå±€éƒ¨å‘½åï¼Œé¿å…ä¸å…¶ä»–åŒºåŸŸå†²çªï¼‰ */
@keyframes d-rainbow-border{
  0%  { box-shadow: var(--d-shadow-card), 0 0 0 2px #ff4d6d inset; }
  25% { box-shadow: var(--d-shadow-card), 0 0 0 2px #0aff99 inset; }
  50% { box-shadow: var(--d-shadow-card), 0 0 0 2px #3a86ff inset; }
  75% { box-shadow: var(--d-shadow-card), 0 0 0 2px #8338ec inset; }
  100%{ box-shadow: var(--d-shadow-card), 0 0 0 2px #fbff12 inset; }
}
@keyframes d-stripe-x{
  from{ background-position: 0 0, 0 0; }
  to  { background-position: 0 0, 72px 0; } /* ä¸ d-btn-strip æ­¥è¿›ç›¸é… */
}

/* ===================  æ”¯æŒ :has çš„ç²¾å‡†è”åŠ¨ï¼ˆä¸æ”¹ HTML çš„å‰æä¸‹ä¿åŠŸèƒ½/æ•ˆæœï¼‰  =================== */
@supports selector(:has(*)){

  /* D1 Â· ä¾§æ å®¹å™¨ï¼šåƒç´ å½©å¸¦ + å†…æè¾¹ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar{
    background: var(--d-grad-v), var(--d-strip-h), var(--d-noise-v);
    image-rendering: pixelated;
    border-left: var(--d-bd);
    box-shadow: inset 0 0 0 2px #111;
  }

  /* D2 Â· Headerï¼šåƒç´ çº¸æ¡èƒŒæ™¯ + ç«–çº¿ PATCH + å›¾æ ‡é«˜äº® */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar .megamenu-menu-header{
    position: relative;
    padding: 12px 10px;
    border-bottom: var(--d-bd);
    background: var(--d-title-grad),
                repeating-linear-gradient(90deg,
                  #ff4d6d 0 10px,#ff9f1c 10px 20px,#fbff12 20px 30px,
                  #0aff99 30px 40px,#3a86ff 40px 50px,#8338ec 50px 60px,#ff4d6d 60px 70px);
    box-shadow: var(--d-shadow-soft);
  }
  /* å³ä¾§ç«–çº¿è¡¥é½ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar .megamenu-menu-header::after{
    content:""; position:absolute; top:0; right:0; bottom:0; width:1px;
    background:#111;
    box-shadow: inset 0 0 0 2px #fff, 0 0 0 2px #111, 2px 0 0 0 #7b8ca3;
    pointer-events:none; image-rendering: pixelated;
  }
  /* Header å°ä»¶ï¼šè¿”å›å›¾æ ‡ + æ ‡é¢˜ä¸»è‰²ï¼ˆå…¬å…±éƒ¨åˆ†åˆå¹¶ï¼‰ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active)
  :is(#megamenu-back-btn i, #megamenu-menu-header-title){
    color:#489745; text-shadow: 0 0 2px #ffd93b66;
  }
  /* æ ‡é¢˜é¢å¤–çš„åƒç´ è¾¹æ¡†ä¸çº¸æ¡åº• */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-header-title{
    display:inline-block; padding: 2px 8px;
    border: var(--d-bd);
    background: linear-gradient(180deg,#ffe7f1 0%,#fff3c9 100%);
    box-shadow: 2px 2px 0 0 #7b8ca3; font-weight:600;
  }

  /* D3 Â· åˆ—è¡¨å®¹å™¨ï¼šåƒç´ ç¼å¤–å£³ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-list{
    margin:10px 8px 12px; padding:6px 4px;
    border: var(--d-bd);
    background: linear-gradient(180deg,#ffdbe8 0%, #ffefb0 100%);
    box-shadow: var(--d-shadow-card);
  }

  /* D4 Â· åˆ—è¡¨é¡¹ï¼šåŸºæ€ + hoverï¼ˆåŠ¨ç”»å— --d-anim æ§åˆ¶ï¼‰ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-list > li > a{
    display:flex; align-items:center; gap:10px; position:relative;
    margin:8px 6px; padding:10px 12px;
    color:#111; text-decoration:none; border: var(--d-bd); border-radius:0;
    background: var(--d-btn-grad), var(--d-btn-strip);
    box-shadow: var(--d-shadow-card), var(--d-inset-white);
    transition: transform .06s steps(2,end), box-shadow .06s steps(2,end);
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-list > li > a:hover{
    transform: translate(-1px,-1px);
    box-shadow: 4px 4px 0 0 #6a7b92, var(--d-inset-white);
    animation:
      calc(var(--d-anim) * 1) d-rainbow-border var(--d-border-dur) steps(5,end) infinite,
      calc(var(--d-anim) * 1) d-stripe-x      var(--d-stripe-dur) steps(6,end) infinite;
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-list > li > a i{
    color:#da0a0a; font-size:1em; order:0; margin-right:-20px;
  }

  /* D5 Â· æ¡ç›®æ ‡ç­¾ï¼š11 æ¡åˆå¹¶ä¸º 1 å…¬å…± + 3 è‰²ç»„ + 1 çº¢ï¼ˆæœ€å°åŒ–ï¼‰*/
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active)
  :is(#m-new,#m-open,#m-save,#m-saved,#m-save-as,#m-export,#m-print,#m-theme,#m-preference,#m-about,#m-close) > span{
    display:inline-block; padding:0 4px; border:1.5px solid #111; border-radius:0;
    font-weight:800; font-size:.95em; line-height:1.2;
    background: linear-gradient(0deg,#cfe4ff,#ffffff);
    box-shadow: 1.5px 1.5px 0 0 #7b8ca3;
  }
  /* é¢œè‰²åˆ†ç»„è¦†å†™ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active)
  :is(#m-new,#m-open,#m-save,#m-saved,#m-save-as) > span{ color:#ff06a1; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active)
  :is(#m-export,#m-print) > span{ color:#06d7ff; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active)
  :is(#m-theme,#m-preference,#m-about) > span{ color:#26c105; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-close > span{ color:#ff0606; }

  /* D6 Â· å·¦ä¾§ emoji å›¾æ ‡ï¼ˆå…¬å…±æ ·å¼ + å„é¡¹ contentï¼‰ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-list > li > a::before{
    margin-right:-6px; filter: drop-shadow(0 0 0 #000); /* é˜²é”¯é½¿å ä½ */
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-new::before{ content:"ğŸ†•"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-open::before{ content:"ğŸ“‚"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-save::before{ content:"ğŸ’¾"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-saved::before{ content:"ğŸ—‚ï¸"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-save-as::before{ content:"ğŸ“"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-export::before{ content:"ğŸ“¤"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-print::before{ content:"ğŸ–¨ï¸"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-theme::before{ content:"ğŸ¨"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-preference::before{ content:"âš™ï¸"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-about::before{ content:"â„¹ï¸"; }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-close::before{ content:"â»"; }

  /* Saved çš„å‹¾é€‰å›¾æ ‡ç§»åˆ°æœ€å³ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #m-saved .fa-check-circle-o:before{
    position:absolute; right:8px; top:50%; transform:translateY(-50%); margin:0;
  }

  /* D7 Â· åˆ†éš”çº¿ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-list > li.divider{
    height:10px; margin:6px 8px; border:2px solid #ff0000;
    background: linear-gradient(180deg,#ffe7f1 0%, #fff5cc 100%),
                repeating-linear-gradient(90deg,
                  #ff4d6d 0 12px,#ff9f1c 12px 24px,#fbff12 24px 36px,
                  #0aff99 36px 48px,#3a86ff 48px 60px,#8338ec 60px 72px);
    box-shadow: 2px 2px 0 0 #7b8ca3;
  }

  /* D8 Â· æ»šåŠ¨æ¡ï¼ˆä¾§æ  + ä¸»å†…å®¹åŒº Â· 6 ç»„ä½¿ç”¨é€—å·åˆå¹¶ï¼Œå‡å°‘é‡å¤ï¼‰ */
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar::-webkit-scrollbar,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) :is(html,body,#megamenu-section-open,.megamenu-section,.megamenu-menu-panel,.megamenu-content,#content,#write)::-webkit-scrollbar{
    width:10px; height:10px;
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar::-webkit-scrollbar-track,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) :is(html,body,#megamenu-section-open,.megamenu-section,.megamenu-menu-panel,.megamenu-content,#content,#write)::-webkit-scrollbar-track{
    background: var(--d-grad-v), var(--d-strip-h), var(--d-noise-v);
    image-rendering: pixelated;
    border-left: var(--d-bd); border-top: var(--d-bd);
    box-shadow: inset 0 0 0 2px #111;
    transition: filter .25s ease, transform .25s ease;
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar::-webkit-scrollbar-track:hover,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) :is(html,body,#megamenu-section-open,.megamenu-section,.megamenu-menu-panel,.megamenu-content,#content,#write)::-webkit-scrollbar-track:hover{
    filter: brightness(1.08); transform: translateY(-1px);
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar::-webkit-scrollbar-thumb,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) :is(html,body,#megamenu-section-open,.megamenu-section,.megamenu-menu-panel,.megamenu-content,#content,#write)::-webkit-scrollbar-thumb{
    background: var(--d-btn-grad),
                repeating-linear-gradient(135deg,
                  #b3e0ff 0 8px,#8fd2ff 8px 16px,#b9ffd9 16px 24px,
                  #ffe59a 24px 32px,#ffb3c7 32px 40px,#d5b3ff 40px 48px);
    border: 2px solid #111; border-radius:0;
    box-shadow: var(--d-inset-white), 2px 2px 0 0 #7b8ca3;
    transition: transform .25s ease;
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar::-webkit-scrollbar-thumb:hover,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) :is(html,body,#megamenu-section-open,.megamenu-section,.megamenu-menu-panel,.megamenu-content,#content,#write)::-webkit-scrollbar-thumb:hover{
    transform: translate(-1px,-1px);
    animation: calc(var(--d-anim) * 1) d-rainbow-border var(--d-border-dur) steps(5,end) infinite;
  }
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) #megamenu-menu-sidebar::-webkit-scrollbar-corner,
  body.megamenu-opened:has(#megamenu-menu-list #m-open.active) :is(html,body,#megamenu-section-open,.megamenu-section,.megamenu-menu-panel,.megamenu-content,#content,#write)::-webkit-scrollbar-corner{
    background: linear-gradient(180deg,#ffe0ea 0%, #fff0c9 100%),
                repeating-linear-gradient(90deg,
                  #ff4d6d 0 10px,#ff9f1c 10px 20px,#fbff12 20px 30px,
                  #0aff99 30px 40px,#3a86ff 40px 50px,#8338ec 50px 60px);
    border: var(--d-bd);
    box-shadow: inset 0 0 0 2px #111;
  }
}

/* ===================  æ—  :has å›é€€ï¼ˆç²—ç²’åº¦ï¼Œä»…ä¿è¯â€œèœå•æ‰“å¼€æ—¶â€æœ‰åƒç´ ä¸»é¢˜ï¼‰  =================== */
@supports not selector(:has(*)){
  body.megamenu-opened #megamenu-menu-sidebar{
    background: var(--d-grad-v), var(--d-strip-h), var(--d-noise-v);
    image-rendering: pixelated;
    border-left: var(--d-bd);
    box-shadow: inset 0 0 0 2px #111;
  }
  body.megamenu-opened #megamenu-menu-sidebar .megamenu-menu-header{
    position: relative; padding:12px 10px; border-bottom: var(--d-bd);
    background: var(--d-title-grad),
                repeating-linear-gradient(90deg,
                  #ff4d6d 0 10px,#ff9f1c 10px 20px,#fbff12 20px 30px,
                  #0aff99 30px 40px,#3a86ff 40px 50px,#8338ec 50px 60px,#ff4d6d 60px 70px);
    box-shadow: var(--d-shadow-soft);
  }
  body.megamenu-opened #megamenu-menu-sidebar .megamenu-menu-header::after{
    content:""; position:absolute; top:0; right:0; bottom:0; width:1px;
    background:#111; box-shadow: inset 0 0 0 2px #fff, 0 0 0 2px #111, 2px 0 0 0 #7b8ca3;
  }
  body.megamenu-opened :is(#megamenu-back-btn i, #megamenu-menu-header-title){
    color:#489745; text-shadow: 0 0 2px #ffd93b66;
  }
  body.megamenu-opened #megamenu-menu-header-title{
    display:inline-block; padding:2px 8px; border: var(--d-bd);
    background: linear-gradient(180deg,#ffe7f1 0%,#fff3c9 100%); box-shadow: 2px 2px 0 0 #7b8ca3; font-weight:600;
  }
  /* å…¶å®ƒå—å¯æŒ‰éœ€å¤åˆ¶ D1~D8 çš„æ ·å¼ï¼ˆè‹¥ä½ å¸Œæœ›â€œåªè¦æ‰“å¼€èœå•å°±å…¨éƒ¨ä¸Šè‰²â€ï¼‰ */
}
/* =============================== END OF PACKAGE ============================ */