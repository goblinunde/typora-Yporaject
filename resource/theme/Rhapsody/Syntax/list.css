/* =======================================================================================
   Rhapsody Â· Lists & Nested Lists ï¼ˆæ­£æ–‡åˆ—è¡¨æ ·å¼ Â· æœ‰åº / æ— åº / åµŒå¥—ï¼‰
   è®¾è®¡ç†å¿µ / Design Concept
   - ä½¿ç”¨å˜é‡é›†ä¸­ç»´æŠ¤ï¼ˆL- å‰ç¼€ï¼‰ï¼Œå®ç°å¤šå±‚çº§åˆ—è¡¨çš„ç¼©è¿›ã€é…è‰²ã€marker å†…å®¹ç»Ÿä¸€ç®¡ç†ã€‚
   - æ— éœ€æ”¹åŠ¨ DOMï¼Œä¸ä¾èµ– :hasï¼ŒèŒƒå›´ä¸¥æ ¼é™åˆ¶åœ¨ #writeã€‚
   - æœ‰åºåˆ—è¡¨ä½¿ç”¨ counter + emoji åç¼€ï¼›æ— åºåˆ—è¡¨ä½¿ç”¨è‡ªå®šä¹‰ emoji æ ‡è®°ã€‚
   - æ¯çº§åˆ—è¡¨å°è£…ä¸ºå¡ç‰‡å¼å®¹å™¨ï¼Œå…·å¤‡ç‹¬ç«‹å‰æ™¯/èƒŒæ™¯/é˜´å½±ï¼Œä¿è¯å¯è¯»æ€§ä¸å±‚æ¬¡æ„Ÿã€‚
   - å…¼é¡¾ç¼–è¾‘ä½“éªŒï¼šä¿®å¤ IME å…‰æ ‡æŠ–åŠ¨ï¼›Checklist ä¿ç•™ Typora åŸç”Ÿäº¤äº’ã€‚
   ======================================================================================= */

/* ========================================================================== */
/* REGION A â€” ROOT VARSï¼ˆå˜é‡é›†ä¸­ç»´æŠ¤ Â· L å‰ç¼€ Â· ä»… #writeï¼‰                    */
/* Scope: #write                                                               */
/* Function: é›†ä¸­ç»´æŠ¤åˆ—è¡¨ç³»ç»Ÿå˜é‡ï¼ˆç¼©è¿›/å¡ç‰‡/marker/å±‚çº§é…è‰²ä¸å†…å®¹ï¼‰            */
/* Notes: ä¸æ”¹ DOMï¼›ä¸ä½¿ç”¨ :hasï¼›ä»…ä½œç”¨æ­£æ–‡                                     */
/* Adjustable: ä»…åœ¨æœ¬åŒºè°ƒæ•´ L- ç³»åˆ—å˜é‡                                         */
/* ========================================================================== */
#write{
  /* åŸºç¡€ç¼©è¿›ä¸å±‚å  */
  --L-indent-left: 1rem;
  --L-li-pad-left: .5rem;
  --L-li-text-indent: -.5rem;

  /* å¡ç‰‡é€šç”¨ */
  --L-card-radius: 8px;
  --L-card-shadow: 2px 2px 8px rgba(0,0,0,.1);

  /* ::marker å­—ä½“æ—ï¼ˆä»…ç”¨äºæ•°å­—ç­‰å®½é£æ ¼ï¼›è¾“å‡ºç”± ::before æ¥ç®¡ï¼‰ */
  --L-marker-ff: "Segoe UI Emoji","Apple Color Emoji","Noto Color Emoji",system-ui,sans-serif;
  --L-marker-fs: 1em;
  --L-marker-fw: 400;

  /* æœ‰åºåˆ—è¡¨é…è‰²ä¸å†…è¾¹è·ï¼ˆ1/2/3çº§ï¼‰ */
  --L-ol1-fg:#2e3b4e;   --L-ol1-bg:rgba(240,240,240,.7); --L-ol1-pad:.5rem;
  --L-ol2-fg:#9c27b0;   --L-ol2-bg:rgba(255,183,77,.2);  --L-ol2-pad:.4rem;
  --L-ol3-fg:#1976d2;   --L-ol3-bg:rgba(33,150,243,.2);  --L-ol3-pad:.3rem;

  /* æ— åºåˆ—è¡¨é…è‰²ä¸å†…è¾¹è·ï¼ˆ1/2/3çº§ï¼‰ */
  --L-ul1-fg:#388e3c;   --L-ul1-bg:rgba(56,142,60,.2);   --L-ul1-pad:.5rem;
  --L-ul2-fg:#ff9800;   --L-ul2-bg:rgba(255,152,0,.2);   --L-ul2-pad:.4rem;
  --L-ul3-fg:#f44336;   --L-ul3-bg:rgba(244,67,54,.2);   --L-ul3-pad:.3rem;

  /* æ— åº â€œæ ‡è®°å†…å®¹/é¢œè‰²â€ï¼ˆä¾› ::before ä½¿ç”¨ï¼‰ */
  --L-ul1-marker-content:"ğŸª  "; --L-ul1-marker-color:#ffb300;
  --L-ul2-marker-content:"ğŸ“š  "; --L-ul2-marker-color:#8e24aa;
  --L-ul3-marker-content:"ğŸ  "; --L-ul3-marker-color:#f44336;

  /* æœ‰åº â€œç¼–å·åç¼€/é¢œè‰²â€ï¼ˆä¾› ::before ä½¿ç”¨ï¼‰ */
  --L-ol1-marker-suffix:". ğŸš€  "; --L-ol1-marker-color:#ffb300;
  --L-ol2-marker-suffix:". âš¡  ";  --L-ol2-marker-color:#8e24aa;
  --L-ol3-marker-suffix:". â­  ";  --L-ol3-marker-color:#1976d2;
}

/* ========================================================================== */
/* REGION B â€” BASE LAYOUTï¼ˆåŸºç¡€ç¼©è¿›ä¸ç¨³å®šæ€§ Â· â˜…ä»¥è¡¥ä¸ä¸ºå‡†Â·ç»Ÿä¸€ ::beforeï¼‰         */
/* Scope: #write ul/ol/li                                                      */
/* Function: åˆ—è¡¨ç¼©è¿›ã€æ‚¬æŒ‚ç¼©è¿›ã€ç¨³å®šæ¸²æŸ“ï¼›ç¦ç”¨è¿‡æ¸¡é¿å…é—ªçƒ                      */
/* Notes: åŸå…ˆ ::marker è¾“å‡ºå·²ç§»é™¤ï¼Œé¿å…ä¸è¡¥ä¸æ‰“æ¶                               */
/* ========================================================================== */

#write ul,
#write ol{
  list-style: none;              /* ç»Ÿä¸€å…³é—­åŸç”Ÿæ ‡è®°â€”â€”æ”¹ç”± ::before è¾“å‡º */
  padding: 0;
  margin: 0 0 0 var(--L-indent-left);
  position: relative;
  z-index: 2;
  transition: none;
}

/* li æ‚¬æŒ‚ç¼©è¿›ï¼šå¤šè¡Œå¯¹é½ */
#write li{
  padding-left: var(--L-li-pad-left);
  text-indent: var(--L-li-text-indent);
  position: relative;            /* ä¾› ::before å®šä½ */
}

/* B' PATCH â€” é¦–æ®µ <p> è¡Œå†…åŒ–ï¼ˆIME å®‰å…¨ï¼‰ */
#write li:not(.task-list-item) > p:first-child{
  display: inline-block;
  margin: 0;
  vertical-align: baseline;
  white-space: normal;
  line-height: inherit;
  min-width: .1px;
}

/* ç»Ÿä¸€æ•°å­—ç­‰å®½å¤–è§‚ï¼ˆä¸å†ç”¨ ::marker è¾“å‡ºå†…å®¹ï¼‰ */
#write li::marker{
  font-family: var(--L-marker-ff);
  font-variant-numeric: tabular-nums;
  font-size: var(--L-marker-fs);
  font-weight: var(--L-marker-fw);
  color: inherit;
  content: "";
}

/* ========================================================================== */
/* REGION C â€” ORDERED LIST CARDSï¼ˆæœ‰åºåˆ—è¡¨å¡ç‰‡ï¼‰                                */
/* ========================================================================== */
#write ol{
  color: var(--L-ol1-fg);
  background-color: var(--L-ol1-bg);
  padding: var(--L-ol1-pad);
  border-radius: var(--L-card-radius);
  box-shadow: var(--L-card-shadow);
  transition: none;
}
#write ol ol{
  color: var(--L-ol2-fg);
  background-color: var(--L-ol2-bg);
  padding: var(--L-ol2-pad);
  border-radius: var(--L-card-radius);
  box-shadow: var(--L-card-shadow);
  transition: none;
}
#write ol ol ol{
  color: var(--L-ol3-fg);
  background-color: var(--L-ol3-bg);
  padding: var(--L-ol3-pad);
  border-radius: var(--L-card-radius);
  box-shadow: var(--L-card-shadow);
  transition: none;
}

/* ========================================================================== */
/* REGION D â€” UNORDERED LIST CARDSï¼ˆæ— åºåˆ—è¡¨å¡ç‰‡ï¼‰                              */
/* ========================================================================== */
#write ul{
  color: var(--L-ul1-fg);
  background-color: var(--L-ul1-bg);
  padding: var(--L-ul1-pad);
  border-radius: var(--L-card-radius);
  box-shadow: var(--L-card-shadow);
  transition: none;
}
#write ul ul{
  color: var(--L-ul2-fg);
  background-color: var(--L-ul2-bg);
  padding: var(--L-ul2-pad);
  border-radius: var(--L-card-radius);
  box-shadow: var(--L-card-shadow);
  transition: none;
}
#write ul ul ul{
  color: var(--L-ul3-fg);
  background-color: var(--L-ul3-bg);
  padding: var(--L-ul3-pad);
  border-radius: var(--L-card-radius);
  box-shadow: var(--L-card-shadow);
  transition: none;
}

/* ========================================================================== */
/* REGION E â€” MARKERSï¼ˆåŸæ–¹æ¡ˆç§»é™¤ï¼Œâ†’ ç”±è¡¥ä¸çš„ ::before æ§½ä½æ³•æ¥ç®¡ï¼‰               */
/* Notes: ä¿ç•™åˆ†åŒºæ ‡é¢˜ä¸æ³¨é‡Šï¼Œä¸å†ä½¿ç”¨ ::marker è¾“å‡ºå†…å®¹                         */
/* ========================================================================== */
/* ï¼ˆç©ºç½®ï¼šä»¥è¡¥ä¸ä¸ºå‡†ï¼Œè§ä¸‹æ–¹ SLOT & ::before è¾“å‡ºï¼‰ */

/* ========================================================================== */
/* === PATCH â‘  Â· é˜²æ­¢åˆ—è¡¨æ–‡å­—å³ä¾§æº¢å‡ºï¼ˆé•¿è‹±æ–‡/URL è‡ªåŠ¨æ¢è¡Œï¼‰ === */
#write li,
#write li > p {
  overflow-wrap: anywhere;   /* å…è®¸ä»»æ„ä½ç½®æ¢è¡Œ */
  word-break: break-word;    /* å…¼å®¹æ—§æµè§ˆå™¨ */
  hyphens: auto;             /* è‡ªåŠ¨åŠ è¿å­—ç¬¦ï¼ˆè‹¥å­—ä½“æ”¯æŒï¼‰ */
  box-sizing: border-box;
  max-width: 100%;
}

/* === ä¿®æ­£ Â· ç¦æ­¢åŸç”Ÿ marker é‡å½±ï¼ˆä»¥è¡¥ä¸ä¸ºå‡†ï¼‰ === */
#write ul,
#write ul li,
#write ul li::marker {
  list-style: none !important;
  content: none !important;
}

/* === Unordered Bullets: å›ºå®šåœ¨é¦–è¡Œï¼Œä¸éšæ–‡æœ¬æ¢è¡Œ/æŒ¤å‹ï¼ˆä»¥è¡¥ä¸ä¸ºå‡†ï¼‰ === */
/* å˜é‡ï¼šå¯æŒ‰éœ€å¾®è°ƒ */
#write{
  --L-ul-gutter: 1.8em;            /* ç‚¹ä½æ§½å®½ï¼š1ä¸ªå½©è‰² emoji çš„å®‰å…¨å®½åº¦ */
  --L-spacer: 0.35em;              /* ç‚¹ä¸æ–‡å­—çš„å¯è§é—´è· */
  --L-marker-shift: 0em;           /* å‚ç›´åŸºçº¿å¾®è°ƒ */
}

/* å…³é—­ ul åŸç”Ÿ/::markerï¼Œä»…å¯¹ ul ç”Ÿæ•ˆï¼›ol ç”±åæ–‡å•ç‹¬å¤„ç† */
#write ul { list-style: none; }
#write ul > li::marker { content: ""; }

/* ç»™æ–‡æœ¬è®©å‡ºå›ºå®šæ§½ä½ï¼›å¤šè¡Œè‡ªç„¶ä¸å†…å®¹åˆ—å¯¹é½ */
#write ul > li{
  position: relative;
  padding-left: calc(var(--L-ul-gutter) + var(--L-spacer));
  text-indent: 0;
}

/* åœ¨å›ºå®šæ§½å†…ç»˜åˆ¶â€œç‚¹â€ï¼ˆé¦–è¡Œå›ºå®šï¼Œæ°¸ä¸æ¢è¡Œï¼‰ */
#write ul > li::before{
  content: var(--L-ul1-marker-content);
  color: var(--L-ul1-marker-color);
  position: absolute;
  left: 0;
  top: 0;
  width: var(--L-ul-gutter);
  white-space: nowrap;
  line-height: inherit;
  transform: translateY(var(--L-marker-shift));
}

/* äºŒã€ä¸‰çº§æ— åºåˆ—è¡¨æ²¿ç”¨å„è‡ªçš„å†…å®¹ä¸é¢œè‰² */
#write ul ul > li::before{
  content: var(--L-ul2-marker-content);
  color: var(--L-ul2-marker-color);
}
#write ul ul ul > li::before{
  content: var(--L-ul3-marker-content);
  color: var(--L-ul3-marker-color);
}

/* === PATCH Â· æ— åºåˆ—è¡¨ å›¾æ ‡ + æ–‡å­—åŒæ­¥å·¦ç§»ï¼ˆä¸åŠ¨å¡ç‰‡æ•´ä½“ Â· ä»¥è¡¥ä¸ä¸ºå‡†ï¼‰ === */
/* å¯è°ƒå˜é‡ï¼šè´Ÿå€¼=å‘å·¦ï¼Œæ­£å€¼=å‘å³ */
#write { --L-ul-content-shift: -2.5em; }

#write ul > li {
  position: relative;
  padding-left: calc(var(--L-ul-gutter) + var(--L-spacer) + var(--L-ul-content-shift));
  text-indent: 0; /* ä¿è¯æ¢è¡Œå¯¹é½ */
}

/* å›¾æ ‡åŒé‡å·¦ç§»ï¼Œä¿æŒé¦–è¡Œå›ºå®šä¸éšæ¢è¡Œ */
#write ul > li::before { left: var(--L-ul-content-shift); }

/* === ä¿®æ­£ Â· ç¦æ­¢æœ‰åºåŸç”Ÿ marker é‡å½±ï¼ˆä¸ ::before å…±å­˜ Â· ä»¥è¡¥ä¸ä¸ºå‡†ï¼‰ === */
#write ol,
#write ol li,
#write ol li::marker {
  list-style: none !important;
  content: none !important;
}

/* === Ordered Numbers: å›ºå®šé¦–è¡Œç¼–å·ï¼Œä¸éšæ–‡æœ¬æ¢è¡Œ/æŒ¤å‹ï¼ˆä»¥è¡¥ä¸ä¸ºå‡†ï¼‰ === */
/* å˜é‡ï¼šæ ¹æ®ç¼–å·ä½æ•°ä¸åç¼€ emoji è§„æ¨¡å¾®è°ƒ */
#write{
  --L-ol-digit-ch: 3.2ch;   /* 1~999 å»ºè®® 3.2chï¼›1~99 å¯ 2.2ch */
  --L-ol-suffix-em: 1.4em;  /* ". " + emoji çš„ä¿å®ˆå®½åº¦ */
  --L-ol-gutter: calc(var(--L-ol-digit-ch) + var(--L-ol-suffix-em));
  --L-ol-marker-shift: 0em;
  --L-ol-content-shift: -2.0em;  /* ä¸æ— åºå·¦ç§»é‡å‘¼åº” */
}

/* ç»™æ–‡æœ¬è®©å‡ºå›ºå®šæ§½ä½ï¼›å¤šè¡Œè‡ªç„¶ä¸å†…å®¹åˆ—å¯¹é½ */
#write ol > li{
  position: relative;
  padding-left: calc(var(--L-ol-gutter) + var(--L-spacer) + var(--L-ol-content-shift));
  text-indent: 0;
}

/* åœ¨å›ºå®šæ§½å†…ç»˜åˆ¶â€œç¼–å·+åç¼€â€ï¼ˆé¦–è¡Œå›ºå®šï¼Œæ°¸ä¸æ¢è¡Œï¼‰ */
#write ol > li::before{
  position: absolute;
  left: var(--L-ol-content-shift); /* ä¸å†…å®¹ä¸€èµ·æ°´å¹³ç§»åŠ¨ */
  top: 0;
  width: var(--L-ol-gutter);       /* å›ºå®šå®½åº¦çš„ç¼–å·æ§½ */
  white-space: nowrap;             /* ç¼–å·è‡ªèº«ç»ä¸æ¢è¡Œ */
  line-height: inherit;
  transform: translateY(var(--L-ol-marker-shift));
  color: var(--L-ol1-marker-color);
  font-family: var(--L-marker-ff);
  font-variant-numeric: tabular-nums;
  font-size: var(--L-marker-fs);
  font-weight: var(--L-marker-fw);
  content: counter(list-item, decimal) var(--L-ol1-marker-suffix);
}

/* äºŒçº§/ä¸‰çº§ï¼šç¼–å·ä½“ç³»ä¸é…è‰²æ²¿ç”¨ä½ çš„å˜é‡ */
#write ol ol > li::before{
  color: var(--L-ol2-marker-color);
  content: counter(list-item, upper-alpha) var(--L-ol2-marker-suffix);
}
#write ol ol ol > li::before{
  color: var(--L-ol3-marker-color);
  content: counter(list-item, upper-roman) var(--L-ol3-marker-suffix);
}

/* ========================================================================== */
/* REGION F â€” CHECKLISTï¼ˆå¤é€‰åˆ—è¡¨å…œåº•ï¼Œä¸è¦†ç›–åŸç”Ÿï¼‰                              */
/* Scope: #write task-listï¼ˆul/ol/liï¼‰                                          */
/* Function: æ¸…ç©º ::beforeï¼›ç§»é™¤é»˜è®¤ç¼©è¿›ï¼›ä¸å¹²æ‰°å†…ç½®å¤é€‰æ¡†                       */
/* Notes: ä¿ç•™ä½ çš„æ³¨é‡Šä¸é£æ ¼                                                     */
/* ========================================================================== */
#write li.task-list-item::marker{ content: ""; }
#write li.task-list-item::before{ content: none; }   /* ä¸è‡ªç»˜ç‚¹/ç¼–å· */
#write ul.task-list,
#write ol.task-list{ list-style: none; padding-left: 0; }

/* è¡Œè·å¾®è°ƒï¼ˆåˆ—è¡¨æ®µè½ï¼‰ */
#write li > p{ margin: .25rem 0; }

#write ul.task-list > li.task-list-item,
#write ol.task-list > li.task-list-item{
  position: relative;
  padding-left: 1.6em;      /* ç»™å¤é€‰æ¡†ç•™ä½ */
}
#write li.task-list-item input[type="checkbox"]{
  position: absolute;
  left: 0;
  top: .1em;                /* è½»å¾®åŸºçº¿æ ¡å‡† */
}

/* åµŒå¥—ç»„åˆç»Ÿä¸€å»å¤–è¾¹è·ï¼Œé¿å…é”™ä¹± */
#write ul ul ul,
#write ul ul ol,
#write ul ol ul,
#write ul ol ol,
#write ol ul ul,
#write ol ul ol,
#write ol ol ul,
#write ol ol ol{ margin: 0; }

/* =============================== END OF PACKAGE ============================ */
